#!/bin/bash
green="\033[32;1m"
yellow="\033[33;1m"
indigo="\033[34;1m"
red="\033[35;1m"
purple="\033[37;1m"
cyan="\033[36;1m"
white="\033[39;1m"
clear
echo $yellow
figlet -f shadow "Auto Pentest"
echo $indigo
date
echo $purple"___________________________________________________"
echo $cyan" ["$red"+"$cyan"]Author by	: AwChicks "
echo $cyan" ["$red"+"$cyan"]Thanks      : ~Gusti Allah SWT~"
echo $cyan" ["$red"+"$cyan"]Github	: https://github.com/Miyazono45"
echo $purple"___________________________________________________"
echo $red"	~"$cyan"{"$white"A"$cyan"}"$white".Install Module in Fedora "$cyan"		        {"$white"Q"$cyan"}"$white"Quit "
echo $red"	~"$cyan"{"$white"B"$cyan"}"$white".Install Module in Ubuntu/Kali "$cyan"		{"$white"I"$cyan"}"$white"Info "
echo $red"	~"$cyan"{"$white"C"$cyan"}"$white".Start "$cyan"                                {"$white"H"$cyan"}"$white"How To Use "
echo $purple"___________________________________________________"
echo $white "╭─"$green"Miyazono45"$cyan""
read -p "    ╰─$ "  apaan

if [ $apaan = "A" ] || [ $apaan = "a" ]
then
clear
yum install nmap
sleep1
pip install wafw00f
sleep1
sudo dnf install gcc ruby-devel libxml2 libxml2-devel libxslt libxslt-devel libcurl-devel patch rpm-build
sleep1
pip install --upgrade setuptools
pip install sslyze
sleep1
echo "Install Manually sslscan Dude :p"
sleep1
echo $cyan"["$yellow"B"$cyan"]"$white"back "$cyan"["$yellow"Q"$cyan"]"$white"Quit"
read -p "[B/Q] : " back
fi 

if [ $apaan = "B" ] || [ $apaan = "b" ]
then
clear
apt-get install nmap
sleep1
pip install wafw00f
sleep1
sudo apt-get install libcurl4-openssl-dev libxml2 libxml2-dev libxslt1-dev ruby-dev build-essential libgmp-dev zlib1g-dev
sleep1
pip install --upgrade setuptools
pip install sslyze
sleep1
echo "Install Manually sslscan Dude :p"
sleep1
echo $cyan"["$yellow"B"$cyan"]"$white"back "$cyan"["$yellow"Q"$cyan"]"$white"Quit"
read -p "[B/Q] : " back
fi 

if [ $apaan = "C" ] || [ $apaan = "c" ]
then
clear
echo " Enter Domain Website :"
read TARGET
clear
figlet -f shadow Auto Pentest Started
echo ""
echo "whois looking up Started "
whois $TARGET
echo "whois looking up finished"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "nslooking up (if not run maybe not installed in your OS)"
nslookup $TARGET
echo "nslooking up finished"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "scanning with nmap Started "
nmap -v -O $TARGET
echo "scanning with nmap finished"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "starting the harvester for gathering email and subdomain information"
python Module/theHarvester/theHarvester.py -d $TARGET -l 500 -b google
echo "the harvester finished"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "starting metagoofil for gathering document maybe important"
python Module/metagoofil/metagoofil.py -d $TARGET -t doc,pdf,xls,csv,txt -l 200 -n 50 -o metagoofiles -f data.html
echo "metagoofil finished"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "starting dnsrecon for gathering DNS record "
python Module/dnsrecon/dnsrecon.py -d $TARGET
echo "dnsrecon finished"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
dig -x $TARGET
python Module/sublist3r/sublist3r.py --domain $TARGET
echo ""
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo ""
echo "scanning WAF with wafw00f"
wafw00f http://$TARGET
echo "scanning finished next..."
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "try bypass WAF with wafninja"
./wafninja bypass -u "http://$TARGET/index.php" -p "Name=PAYLOAD&Submit=Submit" -c "phpsessid=value" -t xss -o output.html
echo ""
echo " ════════════════════════════════════════════════════════════════ "
python Module/XssPy.py -u $TARGET -v
echo " ════════════════════════════════════════════════════════════════ "
echo ""
echo "checking web with whatweb (if not run maybe not installed in your OS)"
./Module/WhatWeb/whatweb $TARGET
echo ""
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "checking web with spaghetti"
python Module/Spaghetti/spaghetti.py --url http://$TARGET --scan [0-3] 
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "start scanning wpscan.rb Started "
wpscan --url http://$TARGET --enumerate u
echo ""
python Module/wpscanner.py -s http://$TARGET -n 20
droopescan scan wordpress -u http://$TARGET
python Module/WPSeku/wpseku.py --target http://$TARGET
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "start scanning"
./joomscan -u http://$TARGET
droopescan scan joomla -u http://$TARGET
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo ""
echo "scan drupal cms"
droopescan scan drupal -u http://$TARGET
echo "scan dupal cms finished next...."
echo " ════════════════════════════════════════════════════════════════ "
echo ""
echo "scan silverstripe cms"
droopescan scan silverstripe -u http://$TARGET
echo "scan silverstripe cms finished next..... "
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "scan moodle cms"
droopescan scan moodle -u http://$TARGET
echo "scan moodle cms finished next..... "
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo ""
echo "starting sslscan Started "
sslscan $TARGET
echo "sslscan finished let's use another way"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "starting sslyze (if not run maybe not installed in your OS)"
sslyze --resum --certinfo=basic --compression --reneg --sslv2 --sslv3 --hide_rejected_ciphers $TARGET
echo "sslyze finished let's change side"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "Update U2SV First"
python Module/a2sv/a2sv.py -u 
echo "Update Finished Continue Scanning"
python Module/a2sv/a2sv.py -t $TARGET 
echo " ════════════════════════════════════════════════════════════════ "
echo ""
echo "starting fuzzing with waf ninja"
./wafninja fuzz -u "http://$TARGET/index.php?id=FUZZ" -c "phpsessid=value" -t xss -o output.html
echo "fuzzing finished"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "starting fuzzing.php web dir"
echo ""
python3 Module/dirsearch/dirsearch.py -u http://$TARGET -e .php
echo ""
echo "fuzzing .php web dir"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo ""
echo "starting.asp web dir finished"
python3 Module/dirsearch/dirsearch.py -u http://$TARGET -e .asp
echo "fuzzing .asp web dir finished"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo "Moving Metagoofil Folder"
mv metagoofiles /root/Desktop 
echo "Moving Metagoofil Folder Finished"
echo ""
echo "Moving Metagoofile data.html"
mv data.html /root/Desktop
echo "Moving Metagoofil data.html finished"
echo ""
echo " ════════════════════════════════════════════════════════════════ "
echo $cyan"["$yellow"B"$cyan"]"$white"back "$cyan"["$yellow"Q"$cyan"]"$white"Quit"
read -p "[B/Q] : " back
fi

if [ $apaan = "Q" ] || [ $apaan = "q" ]
then
echo " Nuuuu...... "
sleep1
exit
clear
fi

if [ $back = "Q" ] || [ $back = "q" ]
then
clear
fi

if [ $back = "B" ] || [ $back = "b" ]
then
sh auto.sh
fi

if [ $apaan = "I" ] || [ $apaan = "i" ]
then
echo " You Must Install Module First If you want really work completely"
echo " if you have Android Smarphone or Tablet you can run this tool via Termux or GNURoot Debian"
echo " And Keep Smile :) "
fi

if [ $apaan = "H" ] || [ $apaan = "h" ]
then
echo "How To Use :"
echo "1. Install Perl Module First"
echo "2. Install Module"
echo "3. And Dont Forget... Keep Smile"
fi

